# 📱 Monad 红包使用指南

## 界面说明

### 🏠 红包大厅（首页）

这是主界面，显示所有可以领取的红包。

**红包卡片信息**：
- 🎲 **黄色标签"拼手气"** - 每个红包金额随机
- 🔵 **蓝色标签"普通"** - 每个红包金额相等
- 🔓 **地球图标** - 公共红包，任何人可领
- 🔐 **锁图标** - 口令红包，需要输入口令
- 发送者地址（简化显示）
- 剩余红包数量 / 总数量

**操作**：
- 点击 **"立即开抢"** - 直接领取公共红包
- 点击 **"输入口令"** - 打开口令输入框

---

## 📝 完整使用流程

### 第一步：准备工作

1. **选择并安装钱包**（选择其中一种）
   
   **桌面端钱包：**
   - 🦊 **MetaMask**（推荐）
     - 访问 [metamask.io](https://metamask.io/download/)
     - 下载浏览器扩展
     - 创建新钱包或导入现有钱包
   
   - 🔵 **Coinbase Wallet**
     - 访问 Coinbase Wallet 官网下载
     - 安装浏览器扩展
   
   - ⭐ **Trust Wallet**
     - 安装浏览器扩展版本
   
   **移动端钱包：**
   - 📱 任何支持 WalletConnect 的钱包 App
     - imToken
     - TokenPocket
     - Rainbow
     - Math Wallet
     - 等等...

2. **添加 Monad 网络**
   ```
   在钱包中添加自定义网络：
   
   网络名称: Monad Testnet
   RPC URL: https://rpc3.monad.xyz
   链 ID: 143
   货币符号: MON
   ```
   
   > 💡 提示：应用会自动尝试添加网络，跟随钱包提示操作即可

3. **获取测试代币**
   - 从 Monad 测试网水龙头获取 MON
   - 或联系项目方获取测试币

4. **打开应用**
   - **桌面端**：在浏览器中打开 `app.html` 或访问部署的网站
   - **移动端**：使用钱包 App 的内置浏览器打开网站

---

### 第二步：连接钱包

#### 桌面端连接（MetaMask 等浏览器扩展）

1. 点击页面右上角的 **"连接钱包"** 按钮
2. 在弹出的钱包选择器中，选择你的钱包类型
   - 🦊 MetaMask
   - 🔵 Coinbase Wallet  
   - ⭐ Trust Wallet
   - 💼 其他钱包扩展
3. 钱包会弹出授权窗口
4. 选择要连接的账户
5. 点击 **"下一步"** 和 **"连接"**
6. 如果提示切换网络，点击 **"切换网络"** 或 **"批准"**

#### 移动端连接（WalletConnect）

**方式一：钱包内置浏览器**
1. 打开你的钱包 App（如 imToken、TokenPocket）
2. 找到"浏览器"或"DApp 浏览器"功能
3. 输入 DApp 网址并访问
4. 点击 **"连接钱包"**
5. 选择对应的钱包选项
6. 在钱包中确认授权

**方式二：扫码连接**
1. 在电脑上打开 DApp
2. 点击 **"连接钱包"**
3. 选择 **"WalletConnect 📱"**
4. 屏幕显示二维码
5. 打开手机钱包 App
6. 找到"扫一扫"或"WalletConnect"功能
7. 扫描电脑上的二维码
8. 在手机上确认连接

✅ **成功标志**：
- 右上角显示你的钱包地址（简化版）
- 显示你的 MON 余额
- 地址旁边显示断开连接按钮 ❌

💡 **提示**：
- 首次连接会自动添加 Monad 网络，跟随钱包提示操作
- 可以随时点击 ❌ 按钮断开连接
- 断开后可以切换其他钱包重新连接

---

### 第三步：发送红包

#### 方式 A：发送拼手气红包

1. 点击底部 **"发红包"** 按钮
2. 选择 **"拼手气"** 模式（黄色背景）
3. 输入总金额，例如：`1.5`（表示 1.5 MON）
4. 输入红包个数，例如：`10`
5. 选择 **"公共可见"**
6. 点击 **"塞进红包 1.5 MON"** 按钮
7. MetaMask 弹出确认窗口
8. 检查 Gas 费用（可调整）
9. 点击 **"确认"**
10. 等待交易确认（约 10-30 秒）

✅ **成功标志**：
- 页面顶部显示 "红包发送成功！"
- 余额减少
- 自动跳转到红包大厅
- 在列表中看到你刚发的红包

#### 方式 B：发送口令红包

1-4. 同上
5. 选择 **"口令保护"**
6. 输入口令，例如：`MonadRedPacket`
7. 点击 **"塞进红包"** 按钮
8-10. 同上

💡 **提示**：
- 口令红包更私密，适合发给特定群体
- 请将口令分享给目标用户
- 口令区分大小写

---

### 第四步：领取红包

#### 领取公共红包

1. 在红包大厅找到想要的红包
2. 查看红包信息：
   - 剩余数量
   - 红包类型（拼手气/普通）
3. 点击 **"立即开抢"** 按钮
4. MetaMask 弹出确认窗口
5. 点击 **"确认"**
6. 等待交易确认

✅ **成功标志**：
- 页面顶部显示 "成功抢到 X.XX MON"
- 余额增加
- 该红包显示 "已领取" 标签

#### 领取口令红包

1. 找到带 🔐 图标的红包
2. 点击 **"输入口令"** 按钮
3. 在弹出的对话框中输入口令
4. 点击 **"开红包"** 按钮
5. MetaMask 确认交易

❌ **如果失败**：
- "口令错误" → 检查口令是否正确（注意大小写）
- "你已经领取过该红包了" → 每个地址只能领一次
- "手慢了，红包已抢完" → 红包已被抢光
- "不能领取自己的红包" → 这是你自己发的

---

### 第五步：查看历史

1. 点击底部 **"记录"** 按钮
2. 查看统计信息：
   - 我发出的红包数量
   - 我抢到的总金额

#### 领取记录明细
显示你领取的所有红包：
- 来自哪个地址
- 领取的金额
- 领取时间

#### 发送记录
显示你发送的所有红包：
- 红包类型（拼手气/普通）
- 是否设置口令（🔐）
- 总金额
- 已领取数量 / 总数量
- 发送时间

---

## 💡 使用技巧

### 拼手气 vs 均分

**拼手气红包**（推荐）：
- ✅ 更有趣味性
- ✅ 每个人金额不同
- ✅ 最后一个人拿剩余所有
- 💰 可能抢到大额或小额

**普通均分**：
- ✅ 公平分配
- ✅ 每个人金额相等（或接近）
- 💰 金额可预测

### 公共 vs 口令

**公共红包**：
- ✅ 任何人都可以抢
- ✅ 适合公开活动
- ❌ 容易被机器人抢

**口令红包**：
- ✅ 只有知道口令的人能抢
- ✅ 适合特定群体
- ✅ 防止机器人
- ❌ 需要分享口令

### 最佳实践

1. **发红包前**：
   - 确保余额充足（金额 + Gas 费）
   - 建议每个红包至少 0.01 MON
   - 红包个数 1-100 之间

2. **领红包时**：
   - 手速要快（拼手气模式）
   - 准备好 Gas 费
   - 检查网络连接

3. **安全建议**：
   - 不要分享你的私钥或助记词
   - 仅在官方网站连接钱包
   - 检查合约地址是否正确
   - 测试网代币无实际价值

---

## 🎯 场景示例

### 场景 1：群组发红包

**目标**：给微信/Telegram 群发红包

1. 选择"拼手气" + "公共可见"
2. 设置合适的金额和个数
3. 发送后，将网站链接分享到群里
4. 群友连接钱包即可抢红包

### 场景 2：私密红包

**目标**：只给特定朋友

1. 选择"均分" + "口令保护"
2. 设置口令，如：`Friend2024`
3. 私下告诉朋友口令和网站链接
4. 朋友输入口令领取

### 场景 3：营销活动

**目标**：吸引用户参与

1. 发送大额"拼手气公共红包"
2. 在社交媒体分享链接
3. 设置较多个数（如 50-100 个）
4. 用户为了抢红包会安装钱包、获取代币

---

## ⚠️ 常见错误与解决

### 错误 1：连接钱包失败

**现象**：点击连接后没反应

**解决**：
```
1. 刷新页面
2. 确保已安装 MetaMask
3. 检查浏览器是否允许弹出窗口
4. 尝试在 MetaMask 中手动连接网站
```

### 错误 2：交易失败

**现象**：MetaMask 显示交易失败

**可能原因**：
- ❌ 余额不足（需要支付 Gas 费）
- ❌ Gas Limit 太低
- ❌ 网络拥堵

**解决**：
```
1. 检查余额是否足够
2. 尝试提高 Gas Price
3. 等待网络恢复后重试
```

### 错误 3：红包列表为空

**现象**：连接钱包后看不到红包

**解决**：
```
1. 检查合约地址配置
2. 刷新页面
3. 清除浏览器缓存
4. 先发送一个测试红包
```

### 错误 4：无法领取

**可能原因**：
- ✋ 已经领取过（每个地址只能领一次）
- ⏰ 红包已被抢完
- 🔐 口令错误
- 👤 这是你自己发的红包

---

## 📊 Gas 费用说明

每个操作的大概 Gas 费用：

| 操作 | 预计 Gas | 说明 |
|------|---------|------|
| 发红包 | ~200,000 | 首次发送可能更高 |
| 领取红包 | ~100,000 | 根据红包类型略有差异 |
| 连接钱包 | 0 | 免费 |
| 查看历史 | 0 | 免费（读取操作） |

💡 **节省 Gas 的技巧**：
- 选择网络不拥堵的时间
- 不要设置过高的 Gas Price
- 批量发送多个红包可分摊成本

---

## 🔗 相关资源

- **智能合约代码**: `RedPacket.sol`
- **详细部署指南**: `DEPLOYMENT.md`
- **快速开始**: `QUICKSTART.md`
- **技术文档**: `README.md`

---

## 📞 获取帮助

遇到问题？

1. 查看本文档的"常见错误与解决"部分
2. 检查浏览器控制台的错误信息（F12）
3. 查看 MetaMask 交易记录
4. 提交 Issue 到项目仓库

---

## 🎉 开始使用

现在你已经了解了所有功能！

👉 **立即开始**：
1. 打开 `app.html`
2. 连接钱包
3. 发送你的第一个红包

祝你抢红包愉快！🧧💰
